<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
		xmlns:h="http://java.sun.com/jsf/html"
		xmlns:p="http://primefaces.org/ui" 
		xmlns:ui="http://java.sun.com/jsf/facelets"
		xmlns:f="http://java.sun.com/jsf/core"
		xmlns:c="http://java.sun.com/jsp/jstl/core">

	<div class="card-xeco">
		<h2><img src="/uae/resources/images/speaker.png" width="30px"/><span class="text-warn i18n-tr-h1">@lblPaso; @count; @lblDe; @size;</span><span><h:outputText value="#{msg['uae.irse.tab2.msg.tit.maps']}" escape="false" /></span></h2>
		<c:if test="#{iris.form.editable or iris.perfil.tab2}"> <!-- evita la colision de id's de matricula, origen, etc. -->
			<ui:include src="./irse02_info.xhtml"></ui:include>
			<div class="ui-blocks no-print">
			<label class="ui-block-xl">
				<div class="label required"><h:outputText value="#{msg['lbl.sali']}" escape="false" />:</div>
				<input type="search" id="origen" name="origen" class="ui-input ui-autocomplete" tabindex="30" title="#{msg['tit.ubicacion']}" placeholder="#{iris.getMsg('ph.ubicacion')}" />
				<div class="ui-errtip"></div>
			</label>
			<label class="ui-block">
				<div class="label required"><h:outputText value="#{msg['lbl.el.dia']}" escape="false" />:</div>
				<input type="date" id="f1" name="f1" class="ui-input ui-date" tabindex="31" />
				<div class="ui-errtip"></div>
			</label>
			<label class="ui-block">
				<div class="label required"><h:outputText value="#{msg['lbl.a.las']}" escape="false" />:</div>
				<input type="time" id="h1" name="h1" class="ui-input ui-time" tabindex="32" placeholder="hh:mm" />
			</label>

			<label class="ui-block-xl">
				<div class="label required"><h:outputText value="#{msg['lbl.llegue']}" escape="false" />:</div>
				<input type="search" id="destino" name="destino" class="ui-input ui-autocomplete" tabindex="33" title="#{msg['tit.ubicacion']}" placeholder="#{iris.getMsg('ph.ubicacion')}"/>
				<div class="ui-errtip"></div>
			</label>
			<label class="ui-block">
				<div class="label required"><h:outputText value="#{msg['lbl.el.dia']}" escape="false" />:</div>
				<input type="date" id="f2" name="f2" class="ui-input ui-date" tabindex="34" />
				<div class="ui-errtip"></div>
			</label>
			<label class="ui-block">
				<div class="label required"><h:outputText value="#{msg['lbl.a.las']}" escape="false" />:</div>
				<input type="time" id="h2" name="h2" class="ui-input ui-time" tabindex="35" placeholder="hh:mm"/>
			</label>

			<label class="ui-block">
				<div class="label required"><h:outputText value="#{msg['lbl.util']}" escape="false" />:</div>
				<select id="desp" name="desp" class="ui-input ui-select ui-number" tabindex="37" title="#{msg['tit.medio.trans']}">
					<option value=""></option>
					<option value="1">#{iris.rutas.getMsgDesp(1)}</option>
					<option value="8">#{iris.rutas.getMsgDesp(8)}</option>
					<option value="6">#{iris.rutas.getMsgDesp(6)}</option>
					<option value="2">#{iris.rutas.getMsgDesp(2)}</option>
					<option value="3">#{iris.rutas.getMsgDesp(3)}</option>
					<option value="4">#{iris.rutas.getMsgDesp(4)}</option>
					<option value="5">#{iris.rutas.getMsgDesp(5)}</option>
					<option value="7">#{iris.rutas.getMsgDesp(7)}</option>
					<option value="9">#{iris.rutas.getMsgDesp(9)}</option>
				</select>
				<div class="ui-errtip"></div>
			</label>
			<label class="ui-block hide grupo-matricula">
				<div class="label required"><h:outputText value="#{msg['lbl.matricula']}" escape="false" />:</div>
				<h:inputText id="matricula" value="#{iris.gastos.matricula}" maxlength="10" tabindex="38" styleClass="ui-input ui-short #{iris.form.cssDisabled}"/>
				<div class="ui-errtip"></div>
			</label>
			<div class="ui-block-btn">
				<a id="add-ruta" href="#" class="btn btn-green success-btn" tabindex="39">
					<i class="fas fa-arrow-alt-down btn-icon-left"></i><h:outputText value="#{msg['lbl.add.tabla']}" escape="false" /></a>
			</div>
			</div>
		</c:if>

		<table id="rutas" class="tb-xeco table-xs rutas-maps">
			<thead>
				<tr>
					<th class="hide-sm">NÂº</th>
					<th><h:outputText value="#{msg['lbl.origen.etapa']}" escape="false" /></th>
					<th><h:outputText value="#{msg['lbl.fecha.salida']}" escape="false" /></th>
					<th><h:outputText value="#{msg['lbl.hora.salida']}" escape="false" /></th>
					<th><h:outputText value="#{msg['lbl.destino.etapa']}" escape="false" /> *</th>
					<th><h:outputText value="#{msg['lbl.fecha.llegada']}" escape="false" /></th>
					<th><h:outputText value="#{msg['lbl.hora.llegada']}" escape="false" /></th>
					<th><h:outputText value="#{msg['lbl.medio.trans']}" escape="false" /></th>
					<th class="hide-sm">Km.</th>
					<th class="no-print"></th>
				</tr>
			</thead>
			<tbody></tbody>
			<tfoot></tfoot>
		</table>
		<div class="notice notice-info"><h:outputText value="#{msg['uae.irse.tab2.info.principal']}" escape="false" /></div>
	</div>

	<a href="#tab-prev" class="btn btn-info" title="#{msg['tit.btn.volver']}" tabindex="57">
		<i class="fas fa-caret-left btn-icon-left"></i><h:outputText value="#{msg['lbl.btn.volver']}" escape="false" /></a>
	<c:choose>
		<c:when test="#{iris.form.editable}">
			<p:commandButton action="#{iris.form.paso2()}" onclick="if (!validateP2()) return false;loading();" oncomplete="showTab(xhr, status, args);"
				icon="fas fa-caret-right" iconPos="right" styleClass="btn btn-info" value="#{msg['lbl.btn.siguiente']}" title="#{msg['tit.btn.siguiente']}" tabindex="58" />
			<p:commandButton action="#{iris.form.save2()}" onclick="if (!validateP2()) return false;" oncomplete="saveTab();"
				icon="far fa-save" styleClass="btn btn-green success-btn" value="#{msg['lbl.btn.no.enviar']}" title="#{msg['tit.btn.no.enviar']}" tabindex="59" />
		</c:when>
		<c:otherwise>
			<a href="#tab-next" class="btn btn-info" title="#{msg['tit.btn.siguiente']}" tabindex="58">
				<h:outputText value="#{msg['lbl.btn.siguiente']}" escape="false" /><i class="fas fa-caret-right btn-icon-right"></i></a>
		</c:otherwise>
	</c:choose>

	<c:if test="#{iris.form.firmable}">
		<ui:include src="../parts/btn_firmar.xhtml"></ui:include>
	</c:if>
</html>
