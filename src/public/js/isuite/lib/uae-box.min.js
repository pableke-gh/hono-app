/*core-box*/
var RE_VAR=/@(\w+);/g,HTML_P=newElem("p");function fnVoid(){}function fnTrue(){return!0}function fnParam(n){return n}function acum(n,t){return n+t}function lt(n,t){return n<t?n:t}function gt(n,t){return t<n?n:t}function lt0(n){return isNaN(n)||n<0}function le0(n){return isNaN(n)||n<=0}function gt0(n){return!isNaN(n)&&0<n}function cmp(n,t){return n==t?0:n<t?-1:1}function range(n,t,r){return Math.min(Math.max(n,t),r)}function extract(n,t,r){return n.splice(t,r),n}function exclude(n,t){var r=n.indexOf(t);return r<0?n:extract(n,r,1)}function put(n,t){return n.push(t),n}function pull(n){return extract(n,-1,1)}function oSet(n,t,r){return n[t]=r,n}function oCopy(n,t,r){return oSet(n,r,n[t])}function boxCheck(n){return"checkbox"==n.type||"radio"==n.type}function valAppend(n,t){return!boxCheck(t)||t.checked?oSet(n,t.name,t.value):n}function xmlAppend(n,t){return oSet(n,t.nodeName,t.textContent)}function isset(n){return void 0!==n&&null!=n}function isstr(n){return"string"==typeof n||n instanceof String}function nvl(n,t){return isset(n)?n:t}function ucFirst(n){return n.charAt(0).toUpperCase()+n.slice(1).toLowerCase()}function reEscape(n){return n.replace(/([.*+?^=!:${}()|\[\]\/\\])/g,"\\$1")}function replaceAll(n,t,r){return n.replace(new RegExp(reEscape(t),"g"),r)}function fnTrim(n){return n&&n.trim()}function tr(n){var t="";if(!n)return t;for(var r=0;r<n.length;r++){var e=n.charAt(r),u="àáâãäåāăąÀÁÂÃÄÅĀĂĄÆßèéêëēĕėęěÈÉĒĔĖĘĚìíîïìĩīĭÌÍÎÏÌĨĪĬòóôõöōŏőøÒÓÔÕÖŌŎŐØùúûüũūŭůÙÚÛÜŨŪŬŮçÇñÑþÐŔŕÿÝ".indexOf(e);t+=u<0?e:"aaaaaaaaaAAAAAAAAAABeeeeeeeeeEEEEEEEiiiiiiiiIIIIIIIIoooooooooOOOOOOOOOuuuuuuuuUUUUUUUUcCnNdDRryY".charAt(u)}return t}function itr(n){return tr(fnTrim(n)).toLowerCase()}function iiOf(n,t){return itr(n).indexOf(itr(t))}function prevIndexOf(n,t,r){return n.substr(0,r).lastIndexOf(t)}function slices(n,t){for(var r=0,e=[],u=0;u<t.length&&r<n.length;u++){var i=t[u];e.push(n.substr(r,i)),r+=i}return r<n.length?put(e,n.substr(r)):e}function ilike(n,t){return-1<iiOf(n,t)}function olike(t,n,r){return n.some(function(n){return ilike(""+t[n],r)})}function newElem(n){return document.createElement(n)}function addChild(n,t){return n.appendChild(t)}function addElem(n,t){return addChild(n,newElem(t))}function attr(n,t){return n&&n.getAttribute(t)}function toggleAttr(n,t,r){return n.hasAttribute(t)?n.removeAttribute(t):n.setAttribute(t,r),n}function toggleClass(n,t){return n.removeAttr("style").toggleClass(t)}function toggle(n){return toggleClass(n,"hide")}function val(n){return n&&n.value}function text(n){return n&&fnTrim(n.textContent)}function html(n){return n&&fnTrim(n.innerHTML)}function cellText(n,t){return n&&text(n.cells[t])}function cellHtml(n,t){return n&&html(n.cells[t])}function heDecode(n){return HTML_P.innerHTML=n,text(HTML_P)}function boolval(n){return n&&"false"!=n&&"0"!=n}function bool(n,t){return boolval(attr(n,t))}function isEmpty(n){return!n||!fnTrim(n.textContent)}function goUp(){$("html, body").animate({scrollTop:0},500)}function redir(n,t){return n&&!window.open(n,t||"_blank")}function lang(){return navigator.language||navigator.userLanguage||"en"}function multisort(n,t,r,e,u){var i=r[u=u||0],o=e&&"asc"==e[u]?cmp(n[i],t[i]):cmp(t[i],n[i]);return 0==o&&u<r.length-1?multisort(n,t,r,e,u+1):o}function apply(n,t){return t&&isset(n)?t(n):n}function format(n,r){return n.replace(RE_VAR,function(n,t){return nvl(r[t],n)})}function pr(n,t){return $(addChild(document.body,HTML_P)).attr("class","only-print").html(JSON.format(n,t)),window.print(),!1}JSON.read=function(n){return n?JSON.parse(n):null},JSON.get=function(n){return JSON.read(sessionStorage[n])},JSON.set=function(n,t){return t&&(sessionStorage[n]=t),JSON},JSON.save=function(n,t){return JSON.set(n,t).get(n)},JSON.format=function(n,t){try{return n=isstr(n)?JSON.parse(n):n,$.isArray(n)?n.map(function(n){return format(t,n)}).join(""):format(t,n)}catch(n){}return t};
/*date-box*/
function lpad(t){return t<10?"0"+t:t}function isLeapYear(t){return 0==(3&t)&&(t%25!=0||0==(15&t))}function daysInMonth(t,e){return Date.daysInMonths[e]+(1==e&&isLeapYear(t))}function dayOfYear(t,e,n){return Date.daysInMonths.slice(0,e).reduce(acum,n+(1<e&&isLeapYear(t)))}Date.langs={en:{monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"]},es:{monthNames:["Enero","Febrero","Marzo","Abril","Mayo","Junio","Julio","Agosto","Septiembre","Octubre","Noviembre","Diciembre"],monthNamesShort:["Ene","Feb","Mar","Abr","May","Jun","Jul","Ago","Sep","Oct","Nov","Dic"],dayNames:["Domingo","Lunes","Martes","Miércoles","Jueves","Viernes","Sábado"],dayNamesShort:["Dom","Lun","Mar","Mié","Juv","Vie","Sáb"],dayNamesMin:["Do","Lu","Ma","Mi","Ju","Vi","Sa"]},fr:{monthNames:["Janvier","Fevrier","Mars","Avril","Mai","Juin","Juillet","Aout","Septembre","Octobre","Novembre","Decembre"],monthNamesShort:["Jan","Fev","Mar","Avr","Mai","Jun","Jul","Aou","Sep","Oct","Nov","Dec"],dayNames:["Dimanche","Lundi","Mardi","Mercredi","Jeudi","Vendredi","Samedi"],dayNamesShort:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],dayNamesMin:["Di","Lu","Ma","Me","Je","Ve","Sa"]},it:{monthNames:["Gennaio","Febbraio","Marzo","Aprile","Maggio","Giugno","Luglio","Agosto","Settembre","Ottobre","Novembre","Dicembre"],monthNamesShort:["Gen","Feb","Mar","Apr","Mag","Giu","Lug","Ago","Set","Ott","Nov","Dic"],dayNames:["Domenica","Lunedì","Martedì","Mercoledì","Giovedì","Venerdì","Sabato"],dayNamesShort:["Dom","Lun","Mar","Mer","Gio","Ven","Sab"],dayNamesMin:["Do","Lu","Ma","Me","Gio","Ve","Sa"]},de:{monthNames:["Januar","Februar","März","April","Mai","Juni","Juli","August","September","Oktober","November","Dezember"],monthNamesShort:["Jan","Feb","Mär","Apr","Mai","Jun","Jul","Aug","Sep","Okt","Nov","Dez"],dayNames:["Sonntag","Montag","Dienstag","Mittwoch","Donnerstag","Freitag","Samstag"],dayNamesShort:["So","Mo","Di","Mi","Do","Fr","Sa"],dayNamesMin:["So","Mo","Di","Mi","Do","Fr","Sa"]}},Date.daysInMonths=[31,28,31,30,31,30,31,31,30,31,30,31],Date.valid=function(t){return t&&t instanceof Date&&t.valid&&t.valid()},Date.load=function(t){return new Date(t.yyyy,t.m-1,t.d,t.h,t.M,t.s,t.ms)},Date.build=function(t){return new Date(+t[0],+t[1]-1,+t[2],t[3]||0,t[4]||0,t[5]||0,t[6]||0)},Date.dpIso=function(t){return t&&Date.build(t.split(/\D+/))};var dp=Date.prototype;dp.toArray=function(){return[this.getFullYear(),lpad(this.getMonth()+1),lpad(this.getDate()),lpad(this.getHours()),lpad(this.getMinutes()),lpad(this.getSeconds()),this.getMilliseconds()]},dp.toObject=function(t){t=t||lang();var e=this.getDay(),n=this.getFullYear().toString(),a=Date.langs[t]||Date.langs[t.substr(0,2)]||Date.langs.en,r={yyyy:+n,y:+n.substr(0,2),yy:+n.substr(2,2),m:this.getMonth(),d:this.getDate()};return r.mmm=a.monthNamesShort[r.m],r.mmmm=a.monthNames[r.m],r.mm=lpad(++r.m),r.ddd=a.dayNamesShort[e],r.dddd=a.dayNames[e],r.dd=lpad(r.d),r.h=this.getHours(),r.hh=lpad(r.h),r.M=this.getMinutes(),r.MM=lpad(r.M),r.s=this.getSeconds(),r.ss=lpad(r.s),r.ms=this.getMilliseconds(),r.t=r.h<12?"a":"p",tt=r.t+"m",r},dp.startYear=function(){return new Date(this.getFullYear(),0,1)},dp.startMonth=function(){return new Date(this.getFullYear(),this.getMonth(),1)},dp.daysInMonth=function(){return daysInMonth(this.getFullYear(),this.getMonth())},dp.dayOfYear=function(){return dayOfYear(this.getFullYear(),this.getMonth(),this.getDate())},dp.daysInYear=function(){return isLeapYear(this.getFullYear())?366:365},dp.weekOfYear=function(){return this.weeks(this.startYear())},dp.weekOfMonth=function(){return this.weekOfYear()-this.startMonth().weekOfYear()+1},dp.valid=function(){return!isNaN(this.getTime())},dp.trunc=function(){return this.setHours(0,0,0,0),this},dp.format=function(t){return format(t,this.toObject())},dp.between=function(t,e){return t<=this&&this<=e},dp.min=function(t){return t&&t<this?t:this},dp.max=function(t){return t&&this<t?t:this},dp.in=function(t,e){return!t&&!e||(t?e?this.between(t,e):t<=this:this<=e)},dp.inMonth=function(t){return this.getFullYear()==t.getFullYear()&&this.getMonth()==t.getMonth()},dp.days=function(t){return Math.abs(this-t)/864e5},dp.weeks=function(t){return Math.ceil((this.days(t)+(t.getDay()||7))/7)},dp.addDate=function(t){return this.setDate(this.getDate()+t),this},dp.addHours=function(t){return this.setHours(this.getHours()+t),this},dp.addMilliseconds=function(t){return this.setMilliseconds(this.getMilliseconds()+t),this},dp.dfMin=function(){return this.format("@yy;@mm;@dd;")},dp.dfMinTime=function(){return this.format("@h;:@MM;")},dp.dfShort=function(){return this.format("@yy;-@m;-@d;")},dp.dfShortTime=function(){return this.format("@h;:@MM; @tt;")},dp.latin=function(){return this.format("@dd;/@mm;/@yyyy;")},dp.dtLatin=function(){return this.format("@dd;/@mm;/@yyyy; @hh;:@MM;:@ss;")},dp.dfIso=function(){return this.format("@yyyy;-@mm;-@dd;T@hh;:@MM;:@ss;.@ms;Z")},dp.dfFull=function(){return this.format("@dddd;, @mmmm; @d;, @yyyy;")},dp.toJSON=dp.dfIso,dp.diff=function(t){if((t=t||new Date)<this)return t.diff(this);var n=t.toArray(),a=[0,12,this.daysInMonth()-this.getDate()+t.getDate(),24,60,60,1e3];return this.toArray().forEach(function(t,e){n[e]-=t,n[e]<0&&(n[e-1]--,n[e]+=a[e])}),n},dp.fmtdiff=function(t,e){var n=this.diff(e),a={yyyy:n[0],yy:n[0],m:n[1],d:n[2]};return a.mm=lpad(a.m),a.dd=lpad(a.d),a.h=n[3],a.M=n[4],a.s=n[5],a.hh=lpad(a.h),a.MM=lpad(a.M),a.ss=lpad(a.s),a.ms=n[6],format(t,a)},dp.interval=function(t,e,n,a){var r=this;a=a||1e3;var i=new Date(this.getTime()+t),s=setInterval(function(){r.addMilliseconds(a),(!e(r,i)||i<=r)&&(clearInterval(s),n&&n())},a);return this};
/*message-box*/
!function(s){var c={hideDelay:500,fadeDuration:1e3,preserveHeight:!0,closeText:"&times;",wrapperClass:"mbox",mboxClass:"mbox-div",buttonClose:"mbox-close",textClass:"mbox-text",iconClass:"mbox-icon",okClassName:"mbox-ok",okIcon:"&#10004;",infoClassName:"mbox-info",infoIcon:"&#120154;",warnClassName:"mbox-warn",warnIcon:"&#9888;",errorClassName:"mbox-error",errorIcon:"&#10008;"},u=newElem("div");function f(n){return n.fadeOut(c.fadeDuration,function(){f(n.next()),n.remove()})}function m(n,e){return e?(r=n.next(),setTimeout(function(){f(r)},e||c.hideDelay),r):n;var r}function r(n,e,r,o){c.msg=n,c.type=e,c.icon=r;var t=s(u).prepend(format('<div class="@type; @mboxClass;"><p class="@iconClass;">@icon;</p><span class="@buttonClose;">@closeText;</span><p class="@textClass;">@msg;</p></div>',c)).children().first().fadeIn(c.fadeDuration),a=s(t.children()[1]).click(function(){t.fadeOut(c.fadeDuration,function(){t.remove()})}).prev(),i=t.children().get().reduce(function(n,e){return gt(s(e).outerHeight(!0),n)},0);return c.preserveHeight&&a.outerHeight(!0)<i&&a.height(i-4),o&&setTimeout(function(){f(t)},o),m(t.height(i),c.clearSiblings)}s.fn.mbOk=function(n,e){return r(n,c.okClassName,c.okIcon,e)},s.fn.mbInfo=function(n,e){return r(n,c.infoClassName,c.infoIcon,e)},s.fn.mbWarn=function(n,e){return r(n,c.warnClassName,c.warnIcon,e)},s.fn.mbError=function(n,e){return r(n,c.errorClassName,c.errorIcon,e)},s.mbHasError=function(){return s(u).children().first().hasClass(c.errorClassName)},s.fn.mbHideAll=function(){return f(s(u).children().first()),this},s.fn.mbHide=function(){return f(this)},s.fn.mBox=function(t){return t=s.extend(c,t),this.each(function(n,e){var r=e.id,o=s(e).html();r&&o&&("ok"==r?s(e).mbOk(o,t.dudation):"info"==r?s(e).mbInfo(o,t.dudation):"warn"==r?s(e).mbWarn(o,t.dudation):"error"==r&&s(e).mbError(o,t.dudation))})},s(function(){addChild(document.body,u),u.className=c.wrapperClass})}(jQuery);
/*table-box*/
!function(m){var n={author:"Table Box",created:Date.now(),pushNameClass:"tb-push",dataNameClass:"tb-data",groupNameClass:"tb-group",orderNameClass:"tb-order",descNameClass:"tb-order-desc",ascNameClass:"tb-order-asc",attrNameColumns:"tb-columns",nameColumns:[],attrNameGroups:"tb-groups",groupColumns:[],attrNameOrder:"tb-order",orderColumns:[],attrNameOrderby:"tb-orderby",orderbyColumns:[],attrNameOrderdir:"tb-order-dir",orderdirColumns:[],attrNameXml:"tb-xml",xmlColumns:[],attrNameXls:"tb-xls",xlsColumns:[],attrNameSheet:"name",wsName:"Sheet",attrNameType:"tb-type",attrNameTypes:"tb-types",typeColumns:[],attrNameStyle:"tb-style",attrNameStyles:"tb-styles",styleColumns:[],attrNameClasses:"tb-classes",classColumns:[],attrNameTitles:"tb-titles",titleColumns:[],attrNameExpand:"tb-expand",groupExpand:0,attrNamePivot:"tb-pivot",attrNamePivotColumn:"tb-pivot-column",attrNamePivotCell:"tb-pivot-cell",attrNameKey:"tb-key",primaryKey:"id",attrNameReport:"tb-report",attrNameResume:"tb-resume",attrNameParent:"parent",attrNameEmpty:"tb-empty",emptyText:"-",attrNameNoBody:"tb-nobody",noBodyText:"",attrMsgConfirm:"msg-confirm",msgConfirm:"¿Confirma que desea eliminar este registro?",headColumns:'<td colspan="@columns;">@text;</td>',footColumns:"",tables:[],onStart:fnVoid,beforeRead:fnVoid,onRead:fnTrue,afterRead:fnVoid,beforePush:fnVoid,onPush:fnVoid,afterPush:fnVoid,beforeFilter:fnVoid,onFilter:fnTrue,afterFilter:fnVoid,beforeOrder:fnVoid,afterOrder:fnVoid,beforeGroup:fnVoid,createGroup:fnVoid,onGroup:fnVoid,afterGroup:fnVoid,afterUngroup:fnVoid,afterReset:fnVoid,beforePivot:fnVoid,afterPivot:fnVoid,beforeUpdate:fnVoid,afterUpdate:fnVoid,onPrint:fnVoid,onRemove:fnTrue,afterRemove:fnVoid,onLoad:fnTrue},l="String",u="Number",i="DateTime",d="Default",o="table",s="tbody",f="tr",c="td",p="span";function h(e,t){return t.map(function(t){return e.indexOf(t)}).filter(function(t){return-1<t})}function C(t,e){return e.length?h(t,e):t.map(function(t,e){return e})}function b(t,e,a){return isNaN(a)?t.nameColumns.indexOf(e):a}function a(t,e,a){return(n=attr(t,e))&&n.trim().split(/\s+/)||a;var n}function y(t,e,a){return t.typeColumns[e]||t.typeColumns[b(t,e,a)]||l}function v(t,e,a){return t.styleColumns[e]||t.styleColumns[b(t,e,a)]||d}function N(t,e,a){return t[v(t,e,a)+"Parse"]||t[e+"Parse"]||fnParam}function g(t,e,a){return t[v(t,e,a)]||fnParam}function x(t,e,a){return t&&t.tables&&(t.tables[e.id]||t.tables[a])||m.extend({},n,t)}function S(t,e,a,n,r){var o=r?' id="'+r+'"':"";return o+=a?' class="'+a+'"':"","<"+t+(o+=n?' title="'+n+'"':"")+">"+e+"</"+t+">"}function P(t,e,a,n){return oSet(oSet(t,e,a),e+"Fmt",n)}function T(t,e,a,n){return P(t,e,a,apply(a,n))}function w(r){return r.nameColumns.forEach(function(t,e){var a=y(r,t,e);if(a==u){var n=g(r,t,e);T(T(r,t+"Sum",0,n),t+"AllSum",0,n),T(T(r,t+"Avg",0,n),t+"AllAvg",0,n)}else a==i&&(P(P(r,t+"Sum",0,""),t+"AllSum",0,""),r[t+"Avg"]=r[t+"AllAvg"]=new Date,r[t+"AvgFmt"]=r[t+"AllAvgFmt"]="")}),r.allrows=r.numrows=r.group=0,r}function F(t,e,a,n,r){n==u?(a=a||0,T(t,e+"Sum",t[e+"Sum"]+a,r),T(t,e+"Avg",t[e+"Sum"]/t.numrows,r),T(t,e+"Min",lt(nvl(t[e+"Min"],a),a),r),T(t,e+"Max",gt(nvl(t[e+"Max"],a),a),r)):n==i&&Date.valid(a)&&(t[e+"Sum"]+=a.getTime(),t[e+"Avg"].setTime(t[e+"Sum"]/t.numrows),t[e+"AvgFmt"]=apply(t[e+"Avg"],r),T(t,e+"Min",lt(nvl(t[e+"Min"],a),a),r),t[e+"SumFmt"]=gt(nvl(t[e+"Max"],a),a),T(t,e+"Max",t[e+"SumFmt"],r))}function D(r,o){return r.allrows++,r.numrows+=!o.tbFiltered,r.nameColumns.forEach(function(t,e){var a=y(r,t,e),n=g(r,t,e);F(r,t+"All",o[t],a,n),o.tbFiltered||F(r,t,o[t],a,n)}),o}var R={};function V(a,n){var r="";return n.tbFiltered?r:(m.extend(R,n),a.nameColumns.forEach(function(t,e){R[t]=apply(n[t],g(a,t,e)),r+=S(c,R[t],n[t+"Class"]||a.classColumns[t]||a.classColumns[e],n[t+"Title"])}),format(S(f,r,a.dataNameClass,null,R[a.primaryKey]),R))}function A(t){return format(S(f,t["footColumns"+t.group]||t.footColumns,"tb-foot tb-foot-"+t.group),t)}function E(t,e){return!t.numrows&&t.noBodyText&&m(e.tBodies[0]).html(S(f,format('<td colspan="@columns;">'+t.noBodyText+"</td>",t))),e.tFoot?m(e.tFoot).html(A(t)):m(e).append(S("tfoot",A(t))),e}function U(a,t){t&&m("[name]",t).each(function(){var t=a[attr(this,"name")],e=a[attr(this,a.attrNameStyle)];this.innerHTML=nvl(apply(t,e),text(this))})}function k(r,o,s){return m("a[name=print]",o).click(function(){var t=r.report?isstr(r.report)?r.report:r.report[attr(this,r.attrNameReport)]||"":"",e=r.findByPk(this.id||m(this).closest(f).attr("id"));return r.onPrint(e,this),V(r,e),pr(R,t)}),m("a[name=remove]",o).click(function(){if(confirm(attr(this,r.attrMsgConfirm)||r.msgConfirm)){var t=this.id||m(this).closest(f).attr("id"),e=r.data.indexOf(r.findByPk(t));function a(){r.data.splice(e,1),j(r,o,s)}function n(){r.afterRemove(o,s)}if(e<0)return!1;r.url&&r.onSuccess?m.get(r.url,r.data[e],r.onSuccess).done(a).error(r.onError).always(n):(r.onRemove(r.data[e],this,e)&&a(),n())}return!1}),o}function O(t,e,a){return m(e).removeClass(t.pushNameClass).children("tbody,tfoot").remove(),w(t),e}function j(e,t,a){var n=m(document).scrollTop(),r=m(o,t).get().map(function(t,e){return m(t).is(":visible")?e:-1});if(O(e,t),m(t).addClass(e.pushNameClass).hasClass(e.groupNameClass))H(e,t,a);else{m(t).append(S(s,e.data.map(function(t){return V(e,D(e,t))}).join(""))),k(e,t,a)}return U(e,m("#"+e.boxResume)[0]),E(e,t),m(o,t).each(function(t,e){-1<r.indexOf(t)&&m(e).parents().show()}),m(document).scrollTop(n),t}function I(a,t,e){var n=a.orderbyColumns;return n.length&&a.data.sort(function(t,e){return multisort(t,e,n,a.orderdirColumns)}),t}function B(l,t,u){var i=h(l.nameColumns,t);return l.data.forEach(function(o){var s=l;u(s,o),t.forEach(function(t,e){var a=o[t]||l.emptyText,n=apply(a,g(l,t,i[e])),r=s.childnodes.find(function(t){return t.value==n});r||((r=w(m.extend({},l))).data=[],r.childnodes=[],r.group=e+1,r.value=r.text=n,s.childnodes.push(r),s.childnodes.sort(function(t,e){return cmp(t.text,e.text)}),s.createGroup(r,o,t,e)),u(s=r,o),s.data.push(o),s.onGroup(s,o)}),s.group="final"}),l.group=0,l}function H(t,e,a){if(t.data&&t.groupColumns.length&&!t.tablePivot){t.childnodes=[],t.beforeGroup(e,a),t=B(t,t.groupColumns,D),m(e).children(s).remove();var n="."+t.groupNameClass+"-";m(e).addClass(t.groupNameClass).append(function a(e){var t=e.childnodes.map(function(t){var e=a(t);return t.childnodes.length||t.numrows||!t.noBodyText||(e+=S(s,S(f,format('<td colspan="@columns;">'+t.noBodyText+"</td>",t)))),e+=S("tfoot",A(t)),e=S(f,t["headColumns"+t.group]||t.headColumns,"tb-resume tb-resume-@group;")+S(f,'<td colspan="@columns;">'+S(o,e,"@groupNameClass; @groupNameClass;-@group;")+"</td>"),format(S(s,e),t)});return S(s,t.join("")||e.data.map(function(t){return V(e,t)}).join(""))}(t)),m(".tb-resume",e).click(function(){m(this.nextSibling).fadeToggle()}),m(n+"final",e).prepend(m(e.tHead).clone(!0));var r=attr(e,t.attrNameExpand)||t.groupExpand;m(n+r,e).show().parents().show(),t.afterGroup(k(t,e,a),a)}return e}function r(t,e,a){var n=m("."+t.dataNameClass,e);return m(e).removeClass(t.groupNameClass).children(s).remove(),m(addElem(e,s)).append(n),t.afterUngroup(e,a),k(t,e,a)}function M(u,t,e){O(u,t);var a=attr(t,u.attrNamePivotColumn)||u.pivotColumn,n=attr(t,u.attrNamePivotCell)||u.pivotCell,r=u.groupColumns.length;u.data=u.tableDetail.data;var o=u.nameColumns.slice(r).map(function(t,e){return S(c,"@"+t+"SumFmt;",(s=t,l=e,(o=u).classColumns[s]||o.classColumns[b(o,s,l)]||u.classColumns.number),(n=t,r=e,(a=u).titleColumns[n]||a.titleColumns[b(a,n,r)]));var a,n,r,o,s,l}).join("");return u.childnodes=[],u.beforeUpdate(t,e),u.beforePivot(t,e),u.data.length&&(u.data.forEach(function(t){oSet(t,t[a],t[n])}),u=B(u,u.groupColumns,D),m(t).addClass(u.pushNameClass)),U(u,m("#"+u.boxResume)[0]),m(t).append(S(s,function e(t,a,n){if(n<0)return"";var r=n?'<td rowspan="@rowspan;">@text;</td>':S(c,"@text;");return r=S(f,r+S(c,"").repeat(n)+a,t.dataNameClass),t.childnodes.map(function(t){return t.rowspan=t.childnodes.length+1,format(r,t)+e(t,a,n-1)}).join("")}(u,o,r-1))),u.afterPivot(E(u,t),e),u.afterUpdate(t,e),t}m.fn.tbTree=function(e){return this.each(function(t,a){var n=x(e,a,t);m(a).children("li").each(function(){var t=attr(this,n.attrNameParent),e=t&&m("#"+t,a)[0];e&&addChild("UL"==e.lastChild.tagName?e.lastChild:addElem(e,"UL"),this)})})},m.fn.tbResume=function(a){return this.each(function(t,e){U(x(a,e,t),e)})},m.fn.tbInit=function(t){return m.extend(t,m.extend({},n,t)),this.each(function(n,r){var o=x(t,r,n),e=m.extend({id:r.id},t,o);e.data=e.data||[],e.nameColumns=a(r,e.attrNameColumns,e.nameColumns),e.typeColumns=a(r,e.attrNameTypes,e.typeColumns),e.styleColumns=a(r,e.attrNameStyles,e.styleColumns),e.classColumns=a(r,e.attrNameClasses,e.classColumns),e.titleColumns=a(r,e.attrNameTitles,e.titleColumns),e.orderColumns=a(r,e.attrNameOrder,e.orderColumns),e.groupColumns=a(r,e.attrNameGroups,e.groupColumns),e.footColumns=r.tFoot?m(f,r.tFoot).first().html():e.footColumns,e.boxResume=attr(r,e.attrNameResume)||e.boxResume,e.emptyText=attr(r,e.attrNameEmpty)||e.emptyText,e.noBodyText=attr(r,e.attrNameNoBody)||e.noBodyText,e.primaryKey=attr(r,e.attrNameKey)||e.primaryKey,e.tablePivot=attr(r,e.attrNamePivot)||e.tablePivot,e.tableDetail=e.tablePivot&&(t.tables[e.tablePivot]||t.tables.find(function(t){return t.id==e.tablePivot})),e.orderbyColumns=a(r,e.attrNameOrderby,e.orderbyColumns),e.orderdirColumns=a(r,e.attrNameOrderdir,e.orderdirColumns),e.xmlColumns=a(r,e.attrNameXml,e.xmlColumns),e.xlsColumns=a(r,e.attrNameXls,e.xlsColumns),e.columns=e.nameColumns.length,e.columns_1=e.columns-1,e.columns_2=e.columns-2,e.index=0,w(m.extend(o,e)),m.isArray(t.tables)?t.tables.push(o):t.tables[r.id]=o,o.findByPk=function(e){return o.data.find(function(t){return t[o.primaryKey]==e})},o.joinPk=function(){return o.data.map(function(t){return t[o.primaryKey]}).join()},o.push=function(t,e){var a=t[o.primaryKey];return a&&e&&o.findByPk(a)||(o.beforeUpdate(r,n),o.beforePush(r,n),t[o.primaryKey]=a||++o.index,o.onPush(t,o.data.length,o.data),o.data.push(t),j(o,I(o,r),n),o.afterPush(r,n),o.afterUpdate(r,n)),o.data.length},o.onStart(r,n)})},m.fn.tbRead=function(a){return this.each(function(t,e){var r=x(a,e,t);if(r.tableDetail)return M(r,e,t);r.beforeUpdate(e,t),r.beforeRead(e,t),m("."+r.dataNameClass,e).each(function(t,a){var n={};r.allrows=++r.numrows;var e=isNaN(a.id)?a.id||t:+a.id;r.index=Math.max(r.index,isNaN(e)?t:e),n[r.primaryKey]=e,r.nameColumns.forEach(function(t,e){n[t]=apply(cellHtml(a,e),N(r,t,e)),n[t+"Class"]=attr(a.cells[e],"class"),n[t+"Title"]=attr(a.cells[e],"title")}),r.onRead(n,a,t)&&r.data.push(n)}),j(r,I(r,e),t),r.afterRead(e,t),r.afterUpdate(e,t)})},m.fn.tbPush=function(n){return this.each(function(t,e){var a=x(n,e,t);if(a.data=a.tableDetail?a.tableDetail.data:a.data,a.tableDetail)return M(a,e,t);a.beforeUpdate(e,t),a.beforePush(e,t),a.data.forEach(a.onPush),j(a,I(a,e),t),a.afterPush(e,t),a.afterUpdate(e,t)})},m.fn.tbOrder=function(t){return this.each(function(r,o){var s=x(t,o,r);if(!s.tableDetail){var a=C(s.nameColumns,s.orderColumns),l=h(s.nameColumns,s.orderbyColumns);m("thead",o).each(function(t,e){var n=m("th",e);a.forEach(function(e){var a=m(addElem(n[e],p));a.addClass(s.orderNameClass).click(function(){s.beforeUpdate(o,r),s.beforeOrder(o,r);var t=a.hasClass(s.ascNameClass);s.orderbyColumns=[s.nameColumns[e]],s.orderdirColumns=[t?"desc":"asc"],m(p,o.tHead).removeClass(s.descNameClass+" "+s.ascNameClass),a.addClass(t?s.descNameClass:s.ascNameClass),j(s,I(s,o),r),s.afterOrder(o,r),s.afterUpdate(o,r)})}),l.forEach(function(t,e){m(p,n[t]).addClass("asc"==s.orderdirColumns[e]?s.ascNameClass:s.descNameClass)})})}})},m.fn.tbReset=function(n){return this.each(function(t,e){var a=x(n,e,t);a.afterReset(O(a,e),t)})},m.fn.tbFilter=function(n){return this.each(function(t,e){var a=x(n,e,t);if(a.tableDetail)return M(a,e,t);a.beforeUpdate(e,t),a.beforeFilter(e,t),a.data.forEach(function(t,e){t.tbFiltered=!a.onFilter(t,e)}),a.afterFilter(j(a,e,t),t),a.afterUpdate(e,t)})},m.fn.tbGroup=function(n){return this.each(function(t,e){var a=x(n,e,t);a.groupColumns.length&&!a.tablePivot&&(a.beforeUpdate(e,t),a.afterUpdate(H(a,e,t),t))})},m.fn.tbUngroup=function(a){return this.each(function(t,e){r(x(a,e,t),e,t)})},m.fn.tbToggleGroup=function(n){return this.each(function(t,e){var a=x(n,e,t);if(a.groupColumns.length&&!a.tablePivot){if(m(e).hasClass(a.groupNameClass))return r(a,e,t);a.beforeUpdate(e,t),a.afterUpdate(H(a,e,t),t)}})},m.fn.tbLoad=function(a){return this.each(function(t,e){var l=x(a,e,t);m(l.tagRow||f,e).each(function(t,e){var s={};(l.nameColumns.length?m(l.nameColumns.join(),e):m(e).children()).each(function(t,e){var a=text(e),n=isset(s[e.nodeName])?e.nodeName+t:e.nodeName,r=attr(e,l.attrNameType)||y(l,n),o=N(l,attr(e,l.attrNameStyle)||n);s[n]=r==i?o==fnParam?Date.dpIso(a):o(a):r==u?+o(a):a}),l.onLoad(s,e,t)&&l.data.push(s)})})};var G={name:c,nameType:l};m.fn.xml=function(r){return'<?xml version="1.0" encoding="utf-8"?>'+S("tables",this.get().map(function(t,e){var n=x(r,t,e),a=n.data.map(function(a,t){if(a.tbFiltered)return null;var e=n.xmlColumns.map(function(t){G.name=t;var e=a[t];return G.nameType=y(n,t),G.type=G.nameType==l?"":" "+n.attrNameType+'="'+G.nameType+'"',G.data=G.nameType==i&&Date.valid(e)?e.dfIso():heDecode(e),format("<@name;@type;>@data;</@name;>",G)});return S(f,e.join(""))});return format(S("t"+e,a.join("")),n)}).join(""))};var K={nameType:l,idStyle:d},L='<Worksheet ss:Name="@wsName;"><Table><Row ss:AutoFitHeight="1" ss:StyleID="Header">@headers;</Row>@rows;</Table><WorksheetOptions xmlns="urn:schemas-microsoft-com:office:excel"><ProtectObjects>False</ProtectObjects><ProtectScenarios>False</ProtectScenarios></WorksheetOptions></Worksheet>',W='<Cell ss:StyleID="@idStyle;"@extra;><Data ss:Type="@nameType;">@data;</Data></Cell>';function z(t,e,a,n){return K.nameType=t,K.idStyle=e,K.data=a||"",K.extra=n||"",K}function X(t,e,a){var n=y(t,e),r=v(t,e);return a=n==i&&Date.valid(a)?a.dfIso():heDecode(a),n==u&&(r=r.indexOf("Integer")<0?"Float":"Integer"),format(W,z(n,r,a))}m.fn.xls=function(o){o=m.extend({styles:"",headers:"",rows:""},n,o);var t=format('<DocumentProperties xmlns="urn:schemas-microsoft-com:office:office"><Author>@author;</Author><Created>@created;</Created><Version>10.3501</Version></DocumentProperties><Styles><Style ss:ID="Default" ss:Name="Normal"><Font/><Interior/><NumberFormat/></Style><Style ss:ID="Header"><Font ss:Bold="1" ss:Size="10"/><Alignment ss:Horizontal="Center" ss:Vertical="Center" ss:WrapText="1"/></Style><Style ss:ID="HeadRow"><Font ss:Bold="1" ss:Size="10"/><Alignment ss:Vertical="Top"/></Style><Style ss:ID="Float"><NumberFormat ss:Format="Standard"/><Alignment ss:Horizontal="Right"/></Style><Style ss:ID="Integer"><NumberFormat ss:Format="0"/><Alignment ss:Horizontal="Right"/></Style><Style ss:ID="DefaultDate"><NumberFormat ss:Format="Long Date"/></Style><Style ss:ID="LatinDate"><NumberFormat ss:Format="dd/mm/yyyy"/></Style>@styles;</Styles>',o),e=this.get().map(function(t,e){var n=x(o,t,e);n.wsName=attr(t,n.attrNameSheet)||n.wsName+(e+1);var a=C(n.nameColumns,n.groupColumns).concat(C(n.nameColumns,n.xlsColumns)),r=m("th",t.tHead).filter(function(t){return-1<a.indexOf(t)}).get().map(text);return n.headers=r.map(function(t){return format(W,z(l,"Header",t))}).join(""),n.rows=n.tablePivot?function r(o,s){return o.childnodes.map(function(e){e.rowspan=e.childnodes.length,e.colspan=e.groupColumns.length-s+1;var t=o.xlsColumns.map(function(t){return X(e,t,e[t+"Sum"])}).join(""),a=e.rowspan?' ss:MergeDown="@rowspan;"':"";a+=1<e.colspan?' ss:Index="@colspan;"':"";var n=format(W,z(l,"HeadRow","@text;",a));return n+=s?format(W,z(l,d)).repeat(s-1):"",format(S("Row",n+t),e)+r(e,s-1)}).join("")}(n,n.groupColumns.length):n.data.map(function(t){return t.tbFiltered?null:(a=t,S("Row",(e=n).xlsColumns.map(function(t){return X(e,t,a[t])}).join("")));var e,a}).join(""),format(L,n)}).join("");return e=e||format(L,o),'<?xml version="1.0" encoding="utf-8" standalone="yes"?><?mso-application progid="Excel.Sheet"?>'+'<Workbook xmlns="urn:schemas-microsoft-com:office:spreadsheet" xmlns:o="urn:schemas-microsoft-com:office:office" xmlns:x="urn:schemas-microsoft-com:office:excel" xmlns:ss="urn:schemas-microsoft-com:office:spreadsheet" xmlns:html="http://www.w3.org/TR/REC-html40">@workbook;</Workbook>'.replace("@workbook;",t+e)}}(jQuery);
/*form-box*/
!function(c){var u="input[type!=file], textarea, select",l={attrNameKey:"fb-key",primaryKey:"id",ukMatches:!0,minLength:3,maxResults:8,attrNameIds:"join-ids",idsInput:"id-list",attrNameData:"read-from",jsonData:"json-data",fileNameClass:"file-wrapper",errNameClass:"err-input",msgPrefix:"msg-",msgOnload:"onload",tipNameTag:"span",tipNameClass:"tooltip",tipNameAttr:"errbox",binNameAttr:"binary-group",attrNameAll:"check-group",attrNameCount:"count-to",txtFileConfirm:"Remove element?",txtDefaultError:"Value error.",reDigits:/^\d+$/,reMail:/\w+[^\s@]+@[^\s@]+\.[^\s@]+/,reLogin:/^[\w!@&#%\$\^\*\)\(\+\.\-]{6,}$/,reIPv4:/^([0-9]{1,3}\.){3}[0-9]{1,3}(\/([0-9]|[1-2][0-9]|3[0-2]))?$/,reIPv6:/^([0-9A-Fa-f]{1,4}:){7}[0-9A-Fa-f]{1,4}$/,reUrl:/(http|ftp|https):\/\/[\w-]+(\.[\w-]+)+([\w.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?/,onStart:fnVoid,onLoad:fnVoid,complete:fnVoid,inputs:{},files:[]},o="number",s="date",d="instance",h=",",m=", ";function f(t){return parseFloat(t)||0}function n(t,e){return f(attr(t,e))}function v(t){return l[t+"Parse"]||fnParam}function i(t){return l[attr(t,o)||attr(t,s)]}function r(t,e){return Math.max(n(t,"maxlength")-e.length,0)}function p(t){return t?document.getElementById(t.replace("#","")):null}function a(t,e){try{return!e||t.test(e)}catch(t){}return!1}function g(t,e,n){if(n=attr(t,l.msgPrefix+e)||n){var r=attr(t,e);n=replaceAll(n,"@"+e+";",r),n=replaceAll(n,"@"+e+"Fmt;",apply(r,i(t)));var a=c(t).addClass(l.errNameClass).siblings(l.tipSelector);(a=a.length?a.show():c(t).after(newElem(l.tipNameTag)).next().attr("name",l.tipNameAttr)).addClass(l.tipNameClass).html(n)}}var b={lower:function(t,e,n){return boolval(e)?t.toLowerCase():t},upper:function(t,e,n){return boolval(e)?t.toUpperCase():t},prefix:function(t,e,n){return t&&t.startsWith(e)?t:e+t},suffix:function(t,e,n){return t&&t.endsWith(e)?t:e+t},remove:function(t,e,n){return t&&e?t.replace(l[e],""):t},replace:function(t,e,n){return t&&e?t.replace(l[e],l[e+"-new"]):t},lpad:function(t,e,n){return e?e.repeat(r(n,t))+t:t},rpad:function(t,e,n){return e?t+e.repeat(r(n,t)):t}},y={};function N(t,e,n){return e.type.startsWith("image/")?t.readAsDataURL(e):t.read(e,n.encoding),e}y.required=function(t,e,n){return!!t},y.minlength=function(t,e,n){return!t||f(e)<=t.length},y.maxlength=function(t,e,n){return!t||f(e)>=t.length},y.regex=function(t,e,n){return!boolval(e)||a(l[e],t)},y.email=function(t,e,n){return!boolval(e)||a(l.reMail,t)},y.digits=function(t,e,n){return!boolval(e)||a(l.reDigits,t)},y.number=function(t,e,n){var r=v(e);return!t||!isNaN(r(t))},y.min=function(t,e,n){if(!t||!e)return!0;var r=attr(n,o),a=v(r);return!isNaN(e)&&this.number(t,r,n)&&f(e)<=a(t)},y.max=function(t,e,n){if(!t||!e)return!0;var r=attr(n,o),a=v(r);return!isNaN(e)&&this.number(t,r,n)&&f(e)>=a(t)},y.range=function(t,e,n){if(!t)return!0;var r=v(attr(n,o));try{var a=r(t),i=JSON.parse(e);return!isNaN(a)&&!isNaN(i[0])&&!isNaN(i[1])&&a>=f(i[0])&&a<=f(i[1])}catch(t){}return!1},y.date=function(t,e,n){var r=v(e);return!t||Date.valid(r(t))},y.mindate=function(t,e,n){if(!t||!e)return!0;var r=attr(n,s),a=v(r),i=new Date(isNaN(e)?e:+e);return Date.valid(i)&&this.date(t,r,n)&&i<=a(t)},y.maxdate=function(t,e,n){if(!t||!e)return!0;var r=attr(n,s),a=v(r),i=new Date(isNaN(e)?e:+e);return Date.valid(i)&&this.date(t,r,n)&&i>=a(t)},y.hasval=function(t,e,n){return!t||c(e).val()},y.equalto=function(t,e,n){return!t||t==c(e).val()},c.fn.fbInit=function(t){c.extend(l,t),c.extend(b,l.transform),c.extend(y,l.validators);var i="__noMatchFields__";l.tipSelector=l.tipNameTag+"[name="+l.tipNameAttr+"]";var o=this.removeAttr("rel").change(function(){c(this).attr("rel",!0)}).find(u);function e(){c(attr(this,l.attrNameCount)).text(Math.abs(n(this,"maxlength")-this.value.length))}return o.each(function(t,e){g(e,l.msgOnload);var n=l.inputs[e.id]||{};for(var r in n)c(e).attr(r,n[r]);var a=o.filter(attr(e,l.binNameAttr)||i);a.change(function(){e.value=a.get().reverse().reduce(function(t,e,n){return t|e.checked<<n},0)}),o.filter(attr(e,l.attrNameAll)||i).click(function(){a.prop("checked",this.checked).first().change()})}).filter("[tabindex=1]").first().focus(),o.filter("["+l.attrNameCount+"]").each(e).keyup(e),this},c.fn.fbRead=function(a){a=c.extend(l,a);var i=new FileReader;return i.onabort=a.onAbort||fnTrue,i.onerror=a.onError||fnTrue,i.read=a.encoding?i.readAsText:i.readAsBinaryString,this.each(function(){var e=0,n=this.files,r=n[e];i.onload=function(t){a.files.push(r),a.onLoad(t,r,e),++e<n.length?r=N(i,n[e],a):a.complete(n)},n.length&&(a.onStart(),N(i,r,a))})},c.fn.fbRemove=function(){var t=this;return this.unbind("click").click(function(){return l.txtFileConfirm&&confirm(l.txtFileConfirm)&&(c(this).closest("."+l.fileNameClass).remove(),delete l.files[t.index(this)]),!1})},c.fn.fbComplete=function(e){return e=c.extend(l,e),this.each(function(t,r){var a=c.extend({},e,e[r.id]);a.primaryKey=attr(r,a.attrNameKey)||a.primaryKey,a.jsonData=attr(r,a.attrNameData)||a.jsonData;var i,n=p(attr(r,a.attrNameIds)||a.idsInput);(a=e[r.id]?c.extend(e[r.id],a):a).data=a.data||JSON.save(a.jsonData,text(p(a.jsonData)))||[],n&&n.value&&n.value.split(h).forEach(function(e,t){var n=a.data.find(function(t){return t[a.primaryKey]==e});r.value=n&&(a.onSelect?a.onSelect(n,r):n.label)||"",a.afterLoad&&a.afterLoad(n,t,r)}),c(r).keydown(function(t){t.keyCode===c.ui.keyCode.TAB&&c(r).autocomplete(d).menu.active?t.preventDefault():!a.onRemoveChar||8!=t.keyCode&&46!=t.keyCode||a.onRemoveChar(r)}).autocomplete({minLength:a.minLength,source:function(t,e){i=t.term;var n=a.beforeSource&&a.beforeSource(a.data,i)||a.data;a.url&&a.onSource?c.get(a.url,i,function(t){e(a.onSource(t,i,r))},"json").error(a.onError):(n=a.onFilter?n.filter(function(t){return a.onFilter(t,i)}):n,a.onSort&&n.sort(a.onSort),e(n.slice(0,a.maxResults)))},focus:function(t,e){return!1},select:function(t,e){return n&&(n.value=e.item[a.primaryKey]),r.value=(a.onSelect?a.onSelect(e.item,r):e.item.label)||"",!1}}).autocomplete(d)._renderItem=function(t,e){var n=(a.onRender?a.onRender(e,i,t):e.label)||"";return c("<li></li>").append("<div>"+n+"</div>").appendTo(t)}})},c.fn.fbMulti=function(e){return e=c.extend(l,e),this.each(function(t,a){var i=c.extend({},e,e[a.id]);i.primaryKey=attr(a,i.attrNameKey)||i.primaryKey,i.jsonData=attr(a,i.attrNameData)||i.jsonData;var r,o,u,l=p(attr(a,i.attrNameIds)||i.idsInput);i=e[a.id]?c.extend(e[a.id],i):i;var s=[];function f(t){if(o=0,u=a.value.length,!(a.selectionStart>a.value.lastIndexOf(m))){var n=range(Math.min(a.selectionStart,a.selectionEnd),0,u),r=range(Math.max(a.selectionStart,a.selectionEnd),n,u);a.selectionStart=s.reduce(function(t,e){return n<(o+=e)?t:o},0),a.selectionEnd=s.reduce(function(t,e){return r<=t?t:t+e},0),t.preventDefault()}}i.data=i.data||JSON.save(i.jsonData,text(p(i.jsonData)))||[],l&&l.value&&(a.value=l.value.split(h).map(function(e,t){var n=i.data.find(function(t){return t[i.primaryKey]==e}),r=(i.onSelect?i.onSelect(n,a):n.label)||"";return i.afterLoad&&i.afterLoad(n,t,a),put(put(s,r.length),2),r}).join(m)+m),c(a).on("click dblclick",f).keydown(function(t){var e=a.value.lastIndexOf(m);if(t.keyCode===c.ui.keyCode.TAB&&c(a).autocomplete(d).menu.active)t.preventDefault();else if(a.selectionStart==e+2&&8==t.keyCode||37==t.keyCode&&a.selectionStart<=e+2||38==t.keyCode)a.selectionStart=a.selectionEnd=prevIndexOf(a.value,m,a.selectionStart)-1,f(t);else if(a.selectionStart>=e+2);else if(39==t.keyCode&&a.selectionEnd==e)a.selectionStart=e+1;else if(39==t.keyCode&&a.selectionStart<e)a.selectionStart=a.selectionEnd+3,f(t);else if(8==t.keyCode||46==t.keyCode){o=u=0;var n=s.findIndex(function(t){return o+=t,a.selectionStart<o}),r=s.findIndex(function(t){return u+=t,a.selectionEnd<=u});a.value=extract(slices(a.value,s),n,r-n+2).join(""),l.value=extract(l.value.split(h),Math.floor(n/2),Math.floor((r-n)/2)+1).join(h),extract(s,n,r-n+2),t.preventDefault()}else a.selectionStart=a.selectionEnd=a.value.length,188==t.keyCode&&t.preventDefault()}).autocomplete({minLength:i.minLength,source:function(t,e){if((r=slices(t.term,s).pop())&&!(r.length<i.minLength)){var n=i.beforeSource&&i.beforeSource(i.data,r)||i.data;if(i.url&&i.onSource)c.get(i.url,r,function(t){e(i.onSource(t,r,a))},"json").error(i.onError);else{n=i.ukMatches&&l.value?n.filter(function(t){return l.value.indexOf(t[i.primaryKey])<0}):n,n=i.onFilter?n.filter(function(t){return i.onFilter(t,r)}):n,i.onSort&&n.sort(i.onSort),e(n.slice(0,i.maxResults))}}},search:function(){var t=slices(a.value,s).pop();return t&&t.length>=i.minLength},focus:function(t,e){return!1},select:function(t,e){var n=e.item[i.primaryKey];l.value=l.value?put(l.value.split(h),n).join(h):n;var r=(i.onSelect?i.onSelect(e.item,a):e.item.label)||"";return a.value=put(pull(slices(a.value,s)),r).join("")+m,put(put(s,r.length),2),!1}}).autocomplete(d)._renderItem=function(t,e){var n=(i.onRender?i.onRender(e,r,t):e.label)||"";return c("<li></li>").append("<div>"+n+"</div>").appendTo(t)}})},c.fn.mask=function(n){return n=isNaN(n)?f(this.first().closest("[mask]").attr("mask")):n,this.each(function(t,e){n&1<<t?c(e).show():c(e).hide()})},c.fn.ilike=function(e){return this.get().every(function(t){return!t.value||ilike(""+e[t.name],t.value)})},c.fn.swapAttr=function(r,a){return this.each(function(t,e){if(a)for(var n in a)c(e).attr(n,a[n]);if(r)for(var n in r)isset(a[n])||c(e).removeAttr(n)})},c.fn.renameAttr=function(a){return this.each(function(t,e){for(var n in a){var r=c(e).attr(n);c(e).removeAttr(n).attr(a[n],r)}})},c.fn.fbSet=function(r){var a=c(u,this);return r&&a.each(function(t,e){var n=r[e.name];isset(n)&&(boxCheck(e)?e.checked=e.value==n:e.value=isstr(n)?n:apply(n,i(e)))}).filter("["+l.binNameAttr+"]").each(function(t,n){var e=a.filter(attr(n,l.binNameAttr));e.get().reverse().forEach(function(t,e){t.checked=n.value&1<<e}),a.filter(attr(n,l.attrNameAll)).prop("checked",n.value==~(-1<<e.length))}),this},c.fn.fbData=function(n){return n=n||{},c(u,this).each(function(t,e){e.name&&isset(e.value)&&(n[e.name]=boxCheck(e)?e.checked?e.value:n[e.name]:e.value)}),n},c.fn.fbSave=function(){return this.each(function(){JSON.set(attr(this,"id"),JSON.stringify(c(this).fbData()))})},c.fn.fbLoad=function(t){return this.each(function(){try{c(this).fbSet(t||JSON.get(attr(this,"id")))}catch(t){}})},c.fn.fbFlushtip=function(){return this.removeClass(l.errNameClass).siblings(l.tipSelector).hide(),this},c.fn.fbFlush=function(){return c(u,this).fbFlushtip(),this},c.fn.fbClear=function(){return this.each(function(){delete sessionStorage[attr(this,"id")]})},c.fn.fbReset=function(){return this.fbClear().fbFlush()},c.fn.fbErrors=function(e){return e&&this.fbFlush().find(u).each(function(){var t=e[this.name];t&&g(this,t,t)}).filter("."+l.errNameClass).first().focus(),this},c.fn.fbValid=function(){var i=!0;return this.fbFlush().find(u).each(function(){for(var t=!0,e=fnTrim(this.value)||"",n=this.attributes.length,r=0;r<n;r++){var a=this.attributes[r];y.run=y[a.name]||fnTrue,b.run=b[a.name]||fnParam,e=b.run(e,a.value,this),y.run(e,a.value,this)||(g(this,a.name,l.txtDefaultError),t=i=!1,r=n)}this.value=t?e:this.value}),i||c("."+l.errNameClass,this).first().focus(),i},c.fn.fbSend=function(t){var e=this[0];if(!e)return new XMLHttpRequest;if((t=c.extend({},l,t)).type=t.type||e.method||"get",t.dataType=t.dataType||"json",t.data=this.fbData(t.data),"post"==t.type){var n=new FormData(e);for(var r in t.data)n.append(r,t.data[r]);t.files.forEach(function(t,e){n.append("file"+e,t)}),t.contentType=t.processData=!1,t.data=n}return t.url=e.action,c.ajax(t)}}(jQuery);
/*util*/
var ZEROS="000000000000000",B64MT={xls:"data:application/vnd.ms-excel;base64,",pdf:"data:application/pdf;base64,",txt:"data:text/plain;base64,"},sp=String.prototype;sp.ltrChunk=function(t){for(var n=[],r=0;r<this.length;r+=t)n.push(this.substr(r,t));return n},sp.rtlChunk=function(t){for(var n=[],r=this.length;t<r;r-=t)n.unshift(this.substr(r-t,t));return 0<r&&n.unshift(this.substr(0,r)),n},sp.positions=function(t){for(var n=[],r=0;r<this.length;r++){if((r=this.indexOf(t,r))<0)return n;n.push(r)}return n},sp.ilike=function(t){return ilike(this,t)},sp.lpad=function(t){return t?(ZEROS+this).substr(-1*t):this},sp.rpad=function(t){return t?(this+ZEROS).substr(0,t):this},sp.rput=function(t){return t>this.length?this+" ".repeat(t-this.length):this},sp.equal=function(t){return this.toLowerCase()==t.toLowerCase()},sp.prefix=function(t){return this.startsWith(t)?this:t+this},sp.suffix=function(t){return this.endsWith(t)?this:this+t},sp.utf8ToB64=function(){return window.btoa(unescape(encodeURIComponent(this)))},sp.b64ToUtf8=function(){return decodeURIComponent(escape(window.atob(this)))},sp.iIndexOf=function(t){return iiOf(this,t)},sp.prevIndexOf=function(t,n){return prevIndexOf(this,t,n)},sp.insertAt=function(t,n){return this.substr(0,t)+n+this.substr(t)},sp.replaceAt=function(t,n,r){return t<0?this:this.substr(0,t)+r+this.substr(t+n)},sp.replaceLast=function(t,n){return this.replaceAt(this.lastIndexOf(t),t.length,n)},sp.replaceAll=function(t,n){return replaceAll(this,t,n)},sp.wrapAt=function(t,n,r,i){return t<0?this:this.insertAt(t,r).insertAt(t+r.length+n,i)},sp.iwrap=function(t,n,r){return this.wrapAt(iiOf(this,t),t.length,n,r)},sp.slices=function(t){return slices(this,t)},sp.chunk=function(){return this.slices(Array.prototype.slice.call(arguments))},sp.minify=function(){return this.trim().replace(/\s{2}/g,"")},sp.words=function(){return this.trim().split(/\s+/)},sp.lines=function(){return this.trim().split(/[\n\r]+/)},sp.count=function(t){return this.split(t).length-1},sp.format=function(t){return format(this,t)},sp.toFirstCase=function(){return ucFirst(this)},sp.toTitleCase=function(){return this.words().map(ucFirst).join(" ")},sp.toDate=function(){return Date.build(this.chunk(4,2,2,2,2,2,3))},sp.toDateTime=function(){return Date.dpIso(this)},sp.dpLatin=function(){return Date.build(this.split(/\D+/).swap(0,2))},sp.dfLatin=function(){return this.toDateTime().latin()},sp.npLatin=function(){return this.toNumber(",")},sp.nfLatin=function(){return this.toNumber().latin()},sp.toNumber=function(t){var n,r;if(""==this)return 0;var i=this.lastIndexOf(t||".");i<0?(n=this,r=""):(n=this.substr(0,i),r="."+this.substr(i+1));var e="-"==n.charAt(0)?"-":"";return parseFloat(e+n.replace(/\D+/g,"")+r)};var ap=Array.prototype;ap.each=function(t){return this.forEach(t),this},ap.put=function(){return this.push.apply(this,arguments),this},ap.merge=function(t){return t&&this.push.apply(this,t),this},ap.positions=function(i){return this.reduce(function(t,n,r){return n==i?t.put(r):t},[])},ap.combine=function(i,t){return this.reduce(function(t,n,r){return oSet(t,n,i[r])},t||{})},ap.olike=function(n,r){return this.some(function(t){return ilike(""+n[t],r)})},ap.unique=function(){return this.filter(function(t,n,r){return r.indexOf(t)==n})},ap.intersect=function(n){return this.filter(function(t){return-1<n.indexOf(t)})},ap.multisort=function(r,i){return this.sort(function(t,n){return multisort(t,n,r,i)})},ap.shuffle=function(){return this.sort(function(){return.5-Math.random()})},ap.swap=function(t,n){var r=this[t];return this[t]=this[n],this[n]=r,this},ap.remove=function(t,n){return extract(this,t,n)},ap.reset=function(){return this.remove(0,this.length)},ap.last=function(){return this[this.length-1]},ap.pull=function(){return pull(this,-1,1)};var np=Number.prototype;function toDate(t){return t&&t.toDateTime()}function dpLatin(t){return t&&t.dpLatin()}function dfLatin(t){return Date.valid(t)?t.latin():t}function toNumber(t){return t&&t.toNumber()}function npLatin(t){return t&&t.npLatin()}function nfLatin(t){var n=parseFloat(t);return isNaN(n)?t:n.latin()}function xhrerr(t){$(".mbox").mbError(t.responseText||"Error en la llamada")}function link(t,n,r,i){return ajax({url:t,data:n,success:r,dataType:i})}function aimg(n){return link(n.href,null,function(t){$(n.target).attr("src",t)})}function json(t,n,r){return link(t,n,r,"json")}function ajax(t){var n=$(".ibox").ibOpen();return t.type=t.type||"get",t.dataType=t.dataType||"html",t.error=t.error||xhrerr,$.ajax(t).always(function(){n.ibClose()})}function keyRename(n,r){return Object.keys(n).forEach(function(t){n[t.prefix(r)]=n[t]}),n}np.lpad=function(t){return this.toString().lpad(t)},np.rpad=function(t){return this.toString().rpad(t)},np.round=function(t){return t=isNaN(t)?2:t,+(Math.round(this+"e"+t)+"e-"+t)},np.range=function(t,n){return Math.min(Math.max(this,t),n)},np.latin=function(t){return this.format(".",",",t)},np.format=function(t,n,r){r=isNaN(r)?2:r;var i=this.round(r).toString().split("."),e=i.shift(),s=i.shift()||"",u=this<0?"-":"";return e=u?e.substr(1):e,s=n&&0<r?n+s.rpad(r):"",u+e.rtlChunk(3).join(t)+s},Math.rand=function(t,n){return Math.random()*(n-t)+t},Math.randInt=function(t,n){return Math.floor(Math.rand(t,n))},Math.randTime=function(t,n){return Math.randInt(t.getTime(),n.getTime())},Math.randDate=function(t,n){return new Date(Math.randTime(t,n))},$(function(){$("a[href^='#tab-']").click(function(){var t=this.href.substr(this.href.lastIndexOf("#")),n=+t.substr(t.lastIndexOf("-")+1)-1;$($("ul.tabs").children().removeClass("active").get(n)).addClass("active");var r=$(".tab-content").removeClass("active").filter(t).addClass("active");return!r.find("[tabindex='"+(r.attr("auto-focus")||1)+"']").focus()}).filter("[href='"+location.hash+"']").first().click();var t=$(".back-to-top").click(goUp);$(window).scroll(function(){200<$(this).scrollTop()?t.fadeIn(500):t.fadeOut(500)}),$("div[name=srvmsg]").mBox({clearSiblings:5e3})});
